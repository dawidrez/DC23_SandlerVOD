<app-header [headerZIndex]="21"></app-header>

<section class="section hero" id="home" [style.padding-top.px]="screenDetectorObject.isMobile ? 20 : 0">
    <div class="featured-cars">

        <div class="hero-content">
            <h2 class="h1 hero-title">{{!showUserPackages ? "SANDLER VOD" : "commons.my-packages" | translate}}</h2>

            <p class="hero-text">
                {{ 'commons.home-subtitle' | translate }}
            </p>
        </div>

        <div class="hero-banner"></div>
    </div>
</section>


<!-- <p-card> -->
<div #packagesContainer>
    <p-dataView [value]="filteredPackages" [layout]="layout" [paginator]="true" (onPage)="onPageEvent($event)"
        [rows]="32" [first]="32 * (filterForm.controls['page'].value || 0)" styleClass="featured-cars">
        <ng-template let-package pTemplate="gridItem">
            <div class="featured-package-card relative">
                <div class="card-content">

                    <div class="card-title-wrapper">
                        <h3 class="h3 card-title">
                            <a [routerLink]="['/packages/preview', package.id]">{{package.name}}</a>
                        </h3>
                        <data class="year" value="0">{{package.price + ' z≈Ç'}}</data>
                    </div>
                    <a [routerLink]="['/packages/preview', package.id]">
                        <ul class="card-list">
                            <li class="card-list-item">
                                <i class="bi bi-film"></i>
                                <span class="card-item-text">{{package.movies?.length || '---'}}</span>
                            </li>
                            <li *ngIf="getSubscriptionIfPackageAlreadyUserPackage(package.id)" class="card-list-item">
                                <i class="bi bi-check-circle-fill" style="color:var(--green-400);font-size: 25px"></i>
                                <span
                                    class="card-item-text">{{(getSubscriptionIfPackageAlreadyUserPackage(package.id)?.start_date | date: 'dd/MM/yyyy')+ ' - ' + (getSubscriptionIfPackageAlreadyUserPackage(package.id)?.end_date | date: 'dd/MM/yyyy')}}</span>
                            </li>
                            <li *ngIf="!getSubscriptionIfPackageAlreadyUserPackage(package.id)" class="card-list-item">
                                <i class="bi bi-x-circle-fill" style="color:var(--red-400);font-size: 25px"></i>
                                <span class="card-item-text">{{'commons.no-subscription' | translate}}</span>
                            </li>
                        </ul>
                    </a>
                    <div class="card-price-wrapper">

                        <p-button icon="bi bi-link-45deg" [pTooltip]="'commons.copy-link' | translate"
                            tooltipPosition="bottom" (onClick)="copyPackageLink(package.id)"
                            styleClass="p-button-rounded p-button-text p-button-sm">
                        </p-button>
                        <!-- 
                        <p-button *ngIf="isUserHasAdminRole()" icon="pi pi-trash"
                            [pTooltip]="'commons.delete' | translate" tooltipPosition="bottom"
                            (onClick)="removeCar($event, car.id)" [loading]="car.loadingDelete"
                            styleClass="p-button-rounded p-button-text p-button-sm p-button-danger">
                        </p-button> -->

                    </div>

                </div>
            </div>
        </ng-template>
    </p-dataView>
    <!-- </p-card> -->
</div>